!function(t,e){function n(t,e){if(t instanceof C)return t;if(t instanceof Element||t instanceof Window||t instanceof Document)return new C(t);if(void 0===t||null===t)return new C;if("string"!=typeof t)throw new Error("First parameter is invalid");if(e){if(!T(e))throw new Error("Second parameter is invalid");e=n(e)}else e=j;return d(e,t)}function r(){}function i(t,e){var n;return e?this.responseXML?this.responseXML:(n=new DOMParser,n.parseFromString(t,"application/xml")):(n=new XMLSerializer,n.serializeToString(t))}function s(t){"classList"in this?this.classList.add(t):this.setAttribute("class",this.getAttribute("class")+" "+t)}function o(t){var e;"classList"in this?this.classList.remove(t):(e=this.getAttribute("class").replace(a(t)," "),this.setAttribute("class",e))}function a(t){var e=U.get("class."+t);return e||(e=new RegExp("(^|\\b)"+t+"(\\b|$)","g"),U.set("class."+t,e)),e}function u(t,e){if("classList"in t){if(t.classList.contains(e))return!0}else if(a(e).test(t.className))return!0;return!1}function f(t){for(var e,n=0,r=t.length,i={};r>n;n++)e=t[n],0===e.name.indexOf("data-")&&(i[y(e.name.replace(/^data-/,""))]=e.value);return i}function c(t,e){return e.call(t,t)}function l(t,e){return t===e}function h(t){var e,r=0,i=[];for(t=n(t),e=t.find("script");r<e.length;r++)i.push({src:e[r].src,text:e[r].textContent}),e[r].remove();return i}function p(t){for(var n,r=0;r<t.length;r++)n=e.createElement("script"),t[r].src?n.src=t[r].src:t[r].text&&(n.text=t[r].text),e.head.appendChild(n).parentNode.removeChild(n)}function d(t,e){var n=new C;return t.forEach(function(t){n.push.apply(n,v(t,e))}),n}function v(t,e){return~e.indexOf(":")&&void 0!==O?(O===!1&&m(),e.match(O)?g(t,e):t.querySelectorAll(e)):t.querySelectorAll(e)}function g(t,e){for(var n,r,i=new C(t),s="",o=e.split(/\s+/);n=o.shift();)r=n.match(O),r?(s+=n.replace(O,"")||"*",n=new C,i.forEach(function(t){var e=new C;r.forEach(function(n){e.push.apply(e,F[n].call(t,s))}),n.push.apply(n,e)}),i=n,s=""):s+=n+" ";return s&&(n=new C,i.forEach(function(t){n.push.apply(n,t.querySelectorAll(s))}),i=n),i}function m(){var t=Object.keys(F).join("|").replace(/:/g,"");O=new RegExp(":("+t+")","g")}function y(t){return t.replace(N,w)}function w(t,e){return e.toUpperCase()}function x(t){return t.replace(D,E).toLowerCase()}function E(t,e){return"-"+e.toLowerCase()}function T(t){return t instanceof C?!0:t instanceof Element||t instanceof Window||t instanceof Document?!0:"string"==typeof t?!0:void 0}function A(t){return function(){for(var e=0,n=this.length;n>e;e++)t.apply(this[e],arguments);return this}}function b(t){return function(){for(var e,n=0,r=this.length,i=new C;r>n;n++)e=t.apply(this[n],arguments),e&&(Array.isArray(e)&&e.length||e instanceof HTMLCollection?i.push.apply(i,e):i.push(e));return i}}function S(t,e){for(var n=new C;t[e]&&1===t.nodeType;)t=t[e],n.push(t);return n}var C,L,j,q=[];!function(){var n;if("ActiveXObject"in t)return n=new ActiveXObject("htmlfile"),n.open(),n.write("<script></script>"),n.close(),q.push(n),void(C=n.parentWindow.Array);try{n=e.createElement("iframe"),n.style.width=0,n.style.height=0,n.style.borderStyle="none",e.body.appendChild(n),C=n.contentWindow.Array,e.body.removeChild(n)}catch(r){C=Array}}(),t.z=n,n.fn=C.prototype,L=n(t),j=n(e),n.fn.find=function(t){if("string"!=typeof t)throw new Error("First paramater of z#find() should be a string");return d(this,t)};var M,H,z={};M={method:"GET",requestType:"text",responseType:"text",url:t.location+"",query:null,data:null,setup:r,success:r,error:r},H={text:function(t){return(t||"")+""}},n.ajax=function(t){var e=new XMLHttpRequest;if(t=n.extend({context:e},M,t),!H[t.requestType])throw new Error("Invalid option `requestType`");if(!H[t.responseType])throw new Error("Invalid option `responseType`");t.query&&~["HEAD","GET"].indexOf(t.method.toUpperCase())&&(t.url+=~t.url.indexOf("?")?"&":"?",t.url+=n.queryString(t.query),t.url=t.url.replace(/(\?|&)&/g,"$1")),e.open(t.method,t.url,!0),e.onload=function(){var n;n=H[t.responseType].call(e,e.responseText,!0),e.status>=200&&e.status<400?t.success.call(t.context,n):t.error.call(t.context,n,e.status,e.statusText)},e.onerror=function(){var n;n=H[t.responseType].call(e,e.responseText,!0),t.error.call(t.context,n,e.status,e.statusText)},~["HEAD","GET"].indexOf(t.method.toUpperCase())||e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.data&&(t.data=H[t.requestType].call(e,t.data,!1)),t.setup.call(e,e),e.send(t.data)},M.requestType="detect",M.responseType="detect",n.registerAjaxType=function(t,e,n){n||"function"!=typeof e||(n=e,e=!1),H[t]=n,e&&(z[e]=t)},n.registerAjaxType("detect",function(t,e){var n,r="text";return e?(n=this.getResponseHeader("Content-Type")||"",n=n.split(";")[0].trim(),r=z[n]||"text"):t&&"object"==typeof t&&t.toString==={}.toString&&(r="json"),H[r].call(this,t,e)}),n.registerAjaxType("json","application/json",function(t,e){return e?JSON.parse(t):JSON.stringify(t)}),n.registerAjaxType("html","text/html",function(t,n){var r,i;return n?(i=new C,r=e.implementation.createHTMLDocument(""),r.documentElement.innerHTML=t,i.push.apply(i,i.slice.call(r.body.children,0)),i):t.outerHTML}),n.registerAjaxType("xml","text/xml",i),n.registerAjaxType("xml","application/xml",i),n.fn.addClass=A(s),n.fn.removeClass=A(o),n.fn.toggleClass=A(function(t,e){var n;n=void 0===e?u(this,t)?o:s:e?s:o,n.call(this,t)}),n.fn.hasClass=function(t){for(var e=0,n=this.length;n>e;e++)if(u(this[e],t))return!0;return!1},n.fn.data=function(t,e){return void 0!==t&&void 0!==e?this.setData(t,e):this.length?this.getData(t):void 0},n.fn.setData=A(function(t,e){var n=this;"dataset"in n?n.dataset[y(t)]=e:n.setAttribute("data-"+x(t),e)}),n.fn.getData=function(t){var e=this[0];if(e)return void 0!==t?"dataset"in e?e.dataset[y(t)]:e.getAttribute("data-"+x(t)):"dataset"in e?Object.create(e.dataset):f(e.attributes)},n.data=function(t,e,r){n(t).data(e,r)},n.fn.on=n.fn.bind=A(function(t,e){this.addEventListener(t,e,!1)}),n.fn.one=A(function(t,e){var r=!1;n(this).on(t,function i(s){r||(r=!0,n(this).off(t,i),e.call(this,s))})}),n.fn.off=n.fn.unbind=A(function(t,e){this.removeEventListener(t,e,!1)}),n.fn.trigger=function(t,n){var r,i=0,s=this.length;void 0===n&&(n={}),n.event=n;try{r=new CustomEvent(t,{detail:n})}catch(o){r=e.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,n)}for(;s>i;i++)this[i].dispatchEvent(r);return this},n.fn.is=function(){var t,n=e.body;return t=n.matches||n.matchesSelector||n.webkitMatchesSelector,t=t||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector,function(e){var n,r,i=0,s=this.length;switch(typeof e){case"string":n=t;break;case"function":n=c;break;case"object":if(!(e instanceof Element||e instanceof Window||e instanceof Document))throw new Error("First parameter of z#is is invalid");n=l;break;default:throw new Error("First parameter of z#is is invalid")}for(;s>i;i++)if(r=n(this[i],e))return r;return!1}}(),n.fn.hide=A(function(){return this.style.display="none",this}),n.fn.show=A(function(){return this.style.display="",this}),n.fn.clone=function(t){var e=0;for((void 0===t||null===t)&&(t=!1);e<this.length;e++)this[e]=this[e].cloneNode(t);return this},n.fn.html=function(t){var e,n;if(void 0===t)return this[0].innerHTML;for(e=0,n=this.length;n>e;e++)this[e].innerHTML=t;return this},n.fn.text=function(t){var e,n;if(void 0===t)return this.textContent;for(e=0,n=this.length;n>e;e++)this[e].textContent=t;return this},n.fn.getAttr=function(t){if(!t)throw new Error("First parameter of z#getAttr is required");return this[0]&&this[0].getAttribute(t)},n.fn.setAttr=A(function(t,e){if(!t)throw new Error("First parameter of z#setAttr is required");if(void 0===e)throw new Error("Second parameter of z#setAttr is required");this.setAttribute(t,e)}),n.fn.attr=function(t,e){return void 0===e?this.getAttr(t):(this.setAttr(t,e),this)},n.fn.replaceWith=n.fn.replace=A(function(t){var e;void 0===t||null===t?this.remove():t instanceof C||t instanceof EventTarget?(e=h(t),t instanceof C&&(t=t[0]),this.parentNode.replaceChild(t,this),p(e)):this.outerHTML=t}),n.fn.append=function(t){var e=0,n=this.length;if(void 0===t)throw new Error("First parameter of z#append is required.");if("string"==typeof t){for(;n>e;e++)this[e].insertAdjacentHTML("beforeend",t);return this}for(t instanceof C&&(t=t[0]);n>e;e++)this[e].appendChild(t);return this},n.fn.prepend=function(t){var e=0,n=this.length;if(void 0===t)throw new Error("First parameter of z#prepend is required.");if("string"==typeof t){for(;n>e;e++)this[e].insertAdjacentHTML("afterbegin",t);return this}for(t instanceof C&&(t=t[0]);n>e;e++)this[e].insertBefore(t,this[e].firstChild);return this},n.fn.after=function(t){var e=0,n=this.length;if(void 0===t)throw new Error("First parameter of z#append is required.");if("string"==typeof t){for(;n>e;e++)this[e].insertAdjacentHTML("afterend",t);return this}for(t instanceof C&&(t=t[0]);n>e;e++)this[e].insertAdjacentHTML("afterend",t.outerHTML);return this},n.fn.css=function(t,e){var n=0,r=this.length;if(void 0===t)throw new Error("First parameter of z#css is required.");if(void 0===e)return getComputedStyle(this[0])[t];for(t=t.replace(/-./g,function(t){return t.substr(1).toUpperCase()});r>n;n++)this[n].style[t]=e;return this},n.fn.remove=A(function(){this.parentNode.removeChild(this)}),n.fn.empty=A(function(){this.innerHTML=""});var O,F={};n.registerSelector=function(t,e){if(!t||"string"!=typeof t)throw new Error("First parameter of z#registerSelector must be a string selector");if(!e||"function"!=typeof e)throw new Error("Second parameter of z#registerSelector must be a function");":"!==t[0]&&(t=":"+t),O=!1,F[t]=e},n.registerSelector(":first",function(t){return n(this.querySelector(t))}),n.registerSelector(":input",function(){function t(t){return~e.indexOf(t.tagName)}var e="INPUT,TEXTAREA,SELECT,BUTTON".split(",");return function(e){var n=new C;return n.push.apply(n,[].filter.call(this.querySelectorAll(e),t)),n}}()),n.fn.parent=b(function(){return this.parentNode}),n.fn.next=b(function(){return this.nextElementSibling}),n.fn.prev=n.fn.previous=b(function(){return this.previousElementSibling}),n.fn.siblings=b(function(){return[].filter.call(this.parentNode.children,function(t){return t!==this},this)}),n.fn.nextAll=b(function(){return S(this,"nextElementSibling")}),n.fn.prevAll=b(function(){return S(this,"previousElementSibling")}),n.fn.children=b(function(){return this.children});var N=/-(.)/g,D=/(?!^)([A-Z])/g,U=function(){var e;return"Map"in t?new Map:(e={},{set:function(t,n){e[t]=n},get:function(t){return e[t]}})}();n.deepExtend=function R(t){var e,n,r=2;for("object"==typeof t?(n=t||{},t=1/0):(t=t===!0?1/0:0|t,n=arguments[1]||{});r<arguments.length;r++)if(e=arguments[r])for(var i in e)e.hasOwnProperty(i)&&(t&&"object"==typeof e[i]?R(t-1,n[i],e[i]):n[i]=e[i]);return n},n.extend=function(){return[].unshift.call(arguments,0),n.deepExtend.apply(null,arguments)},n.fn.each=A(function(t){return t.call(this,this),this}),n.queryString=function(t,e){var r,i,s,o=[];for(r in t)t.hasOwnProperty(r)&&(i=e?e+"["+r+"]":r,s=t[r],o.push(s&&"object"==typeof s?n.queryString(s,i):encodeURIComponent(i)+"="+encodeURIComponent(s)));return o.join("&")}}(window,document);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiei5zbS5taW4uanMiLCJzb3VyY2VzIjpbIl9oZWFkZXIuanMiLCJfYmFzZS5qcyIsImFqYXguanMiLCJhamF4X3R5cGVzLmpzIiwiY2xhc3Nlcy5qcyIsImRhdGEuanMiLCJldmVudHMuanMiLCJmaWx0ZXJpbmcuanMiLCJtYW5pcHVsYXRpb24uanMiLCJzZWxlY3RvcnMuanMiLCJzZWxlY3RvcnNfY3VzdG9tLmpzIiwidHJhdmVyc2luZy5qcyIsInV0aWxzLmpzIiwiX2Zvb3Rlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQ0FVQSxTQUFBLEVBQUEsR0NQQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsWUFBQSxHQUNBLE1BQUEsRUFDQSxJQUFBLFlBQUEsVUFBQSxZQUFBLFNBQUEsWUFBQSxVQUNBLE1BQUEsSUFBQSxHQUFBLEVBQ0EsSUFBQSxTQUFBLEdBQUEsT0FBQSxFQUNBLE1BQUEsSUFBQSxFQUNBLElBQUEsZ0JBQUEsR0FDQSxLQUFBLElBQUEsT0FBQSw2QkFHQSxJQUFBLEVBQUEsQ0FDQSxJQUFBLEVBQUEsR0FDQSxLQUFBLElBQUEsT0FBQSw4QkFHQSxHQUFBLEVBQUEsT0FFQSxHQUFBLENBR0EsT0FBQSxHQUFBLEVBQUEsR0FHQSxRQUFBLE1DOEJBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxFQUVBLE9BQUEsR0FLQSxLQUFBLFlBQ0EsS0FBQSxhQUdBLEVBQUEsR0FBQSxXQUNBLEVBQUEsZ0JBQUEsRUFBQSxxQkFUQSxFQUFBLEdBQUEsZUFDQSxFQUFBLGtCQUFBLElDakNBLFFBQUEsR0FBQSxHQUNBLGFBQUEsTUFDQSxLQUFBLFVBQUEsSUFBQSxHQUVBLEtBQUEsYUFBQSxRQUFBLEtBQUEsYUFBQSxTQUFBLElBQUEsR0FJQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEVBRUEsY0FBQSxNQUNBLEtBQUEsVUFBQSxPQUFBLElBRUEsRUFBQSxLQUFBLGFBQUEsU0FBQSxRQUFBLEVBQUEsR0FBQSxLQUNBLEtBQUEsYUFBQSxRQUFBLElBSUEsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsSUFBQSxTQUFBLEVBT0EsT0FMQSxLQUNBLEVBQUEsR0FBQSxRQUFBLFVBQUEsRUFBQSxVQUFBLEtBQ0EsRUFBQSxJQUFBLFNBQUEsRUFBQSxJQUdBLEVBR0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLGFBQUEsSUFDQSxHQUFBLEVBQUEsVUFBQSxTQUFBLEdBQ0EsT0FBQSxNQUVBLElBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxXQUNBLE9BQUEsQ0FHQSxRQUFBLEVDaENBLFFBQUEsR0FBQSxHQU1BLElBTEEsR0FBQSxHQUNBLEVBQUEsRUFDQSxFQUFBLEVBQUEsT0FDQSxLQUVBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxHQUVBLElBQUEsRUFBQSxLQUFBLFFBQUEsV0FDQSxFQUFBLEVBQUEsRUFBQSxLQUFBLFFBQUEsU0FBQSxNQUFBLEVBQUEsTUFJQSxPQUFBLEdDbERBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEtBQUEsRUFBQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxLQUFBLEVDOEZBLFFBQUEsR0FBQSxHQUNBLEdBQUEsR0FDQSxFQUFBLEVBQ0EsSUFLQSxLQUhBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxLQUFBLFVBRUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxFQUFBLE1BQ0EsSUFBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLEVBQUEsR0FBQSxjQUdBLEVBQUEsR0FBQSxRQUdBLE9BQUEsR0FHQSxRQUFBLEdBQUEsR0FJQSxJQUhBLEdBQUEsR0FDQSxFQUFBLEVBRUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxFQUFBLEVBQUEsY0FBQSxVQUVBLEVBQUEsR0FBQSxJQUNBLEVBQUEsSUFBQSxFQUFBLEdBQUEsSUFDQSxFQUFBLEdBQUEsT0FDQSxFQUFBLEtBQUEsRUFBQSxHQUFBLE1BR0EsRUFBQSxLQUFBLFlBQUEsR0FBQSxXQUFBLFlBQUEsR0NqSUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxFQU1BLE9BSkEsR0FBQSxRQUFBLFNBQUEsR0FDQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxNQUdBLEVBR0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxPQUFBLEVBQUEsUUFBQSxNQUFBLFNBQUEsR0FJQSxLQUFBLEdBQ0EsSUFHQSxFQUFBLE1BQUEsR0FJQSxFQUFBLEVBQUEsR0FIQSxFQUFBLGlCQUFBLElBUkEsRUFBQSxpQkFBQSxHQWNBLFFBQUEsR0FBQSxFQUFBLEdBTUEsSUFMQSxHQUFBLEdBQUEsRUFDQSxFQUFBLEdBQUEsR0FBQSxHQUNBLEVBQUEsR0FDQSxFQUFBLEVBQUEsTUFBQSxPQUVBLEVBQUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxNQUFBLEdBRUEsR0FLQSxHQUFBLEVBQUEsUUFBQSxFQUFBLEtBQUEsSUFDQSxFQUFBLEdBQUEsR0FFQSxFQUFBLFFBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEVBRUEsR0FBQSxRQUFBLFNBQUEsR0FDQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsTUFHQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEtBR0EsRUFBQSxFQUNBLEVBQUEsSUFsQkEsR0FBQSxFQUFBLEdBK0JBLE9BVkEsS0FDQSxFQUFBLEdBQUEsR0FFQSxFQUFBLFFBQUEsU0FBQSxHQUNBLEVBQUEsS0FBQSxNQUFBLEVBQUEsRUFBQSxpQkFBQSxNQUdBLEVBQUEsR0FHQSxFQUdBLFFBQUEsS0FDQSxHQUFBLEdBQUEsT0FBQSxLQUFBLEdBQUEsS0FBQSxLQUFBLFFBQUEsS0FBQSxHQUNBLEdBQUEsR0FBQSxRQUFBLEtBQUEsRUFBQSxJQUFBLEtDeEVBLFFBQUEsR0FBQSxHQUNBLE1BQUEsR0FBQSxRQUFBLEVBQUEsR0FHQSxRQUFBLEdBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxjQUdBLFFBQUEsR0FBQSxHQUNBLE1BQUEsR0FBQSxRQUFBLEVBQUEsR0FBQSxjQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsY0FzQkEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxhQUFBLElBQ0EsRUFHQSxZQUFBLFVBQUEsWUFBQSxTQUFBLFlBQUEsV0FDQSxFQUdBLGdCQUFBLElBQ0EsRUFEQSxPQUtBLFFBQUEsR0FBQSxHQUNBLE1BQUEsWUFJQSxJQUhBLEdBQUEsR0FBQSxFQUNBLEVBQUEsS0FBQSxPQUVBLEVBQUEsRUFBQSxJQUNBLEVBQUEsTUFBQSxLQUFBLEdBQUEsVUFHQSxPQUFBLE9BSUEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxZQU1BLElBTEEsR0FBQSxHQUNBLEVBQUEsRUFDQSxFQUFBLEtBQUEsT0FDQSxFQUFBLEdBQUEsR0FFQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsTUFBQSxLQUFBLEdBQUEsV0FFQSxJQUNBLE1BQUEsUUFBQSxJQUFBLEVBQUEsUUFBQSxZQUFBLGdCQUNBLEVBQUEsS0FBQSxNQUFBLEVBQUEsR0FFQSxFQUFBLEtBQUEsR0FLQSxPQUFBLElBSUEsUUFBQSxHQUFBLEVBQUEsR0FHQSxJQUZBLEdBQUEsR0FBQSxHQUFBLEdBRUEsRUFBQSxJQUFBLElBQUEsRUFBQSxVQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsS0FBQSxFQUdBLE9BQUEsR1BoR0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxNQTRCQSxXQUNBLEdBQUEsRUFFQSxJQUFBLGlCQUFBLEdBU0EsTUFSQSxHQUFBLEdBQUEsZUFBQSxZQUVBLEVBQUEsT0FDQSxFQUFBLE1BQUEscUJBQ0EsRUFBQSxRQUNBLEVBQUEsS0FBQSxRQUVBLEVBQUEsRUFBQSxhQUFBLE1BSUEsS0FDQSxFQUFBLEVBQUEsY0FBQSxVQUVBLEVBQUEsTUFBQSxNQUFBLEVBQ0EsRUFBQSxNQUFBLE9BQUEsRUFDQSxFQUFBLE1BQUEsWUFBQSxPQUVBLEVBQUEsS0FBQSxZQUFBLEdBRUEsRUFBQSxFQUFBLGNBQUEsTUFFQSxFQUFBLEtBQUEsWUFBQSxHQUNBLE1BQUEsR0FDQSxFQUFBLFVBS0EsRUFBQSxFQUFBLEVBQ0EsRUFBQSxHQUFBLEVBQUEsVUFDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FFQSxFQUFBLEdBQUEsS0FBQSxTQUFBLEdBQ0EsR0FBQSxnQkFBQSxHQUNBLEtBQUEsSUFBQSxPQUFBLGlEQUdBLE9BQUEsR0FBQSxLQUFBLEdReEVBLElBQUEsR0FBQSxFQUNBLElBRUEsSUFDQSxPQUFBLE1BQ0EsWUFBQSxPQUNBLGFBQUEsT0FDQSxJQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsS0FDQSxLQUFBLEtBQ0EsTUFBQSxFQUNBLFFBQUEsRUFDQSxNQUFBLEdBR0EsR0FDQSxLQUFBLFNBQUEsR0FDQSxPQUFBLEdBQUEsSUFBQSxLQUlBLEVBQUEsS0FBQSxTQUFBLEdBQ0EsR0FDQSxHQUFBLEdBQUEsZUFNQSxJQUpBLEVBQUEsRUFBQSxRQUNBLFFBQUEsR0FDQSxFQUFBLElBRUEsRUFBQSxFQUFBLGFBQ0EsS0FBQSxJQUFBLE9BQUEsK0JBQ0EsS0FBQSxFQUFBLEVBQUEsY0FDQSxLQUFBLElBQUEsT0FBQSxnQ0FHQSxHQUFBLFNBQUEsT0FBQSxPQUFBLFFBQUEsRUFBQSxPQUFBLGlCQUNBLEVBQUEsTUFBQSxFQUFBLElBQUEsUUFBQSxLQUFBLElBQUEsSUFDQSxFQUFBLEtBQUEsRUFBQSxZQUFBLEVBQUEsT0FDQSxFQUFBLElBQUEsRUFBQSxJQUFBLFFBQUEsV0FBQSxPQUdBLEVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxLQUFBLEdBRUEsRUFBQSxPQUFBLFdBQ0EsR0FBQSxFQUVBLEdBQUEsRUFBQSxFQUFBLGNBQUEsS0FBQSxFQUFBLEVBQUEsY0FBQSxHQUVBLEVBQUEsUUFBQSxLQUFBLEVBQUEsT0FBQSxJQUNBLEVBQUEsUUFBQSxLQUFBLEVBQUEsUUFBQSxHQUVBLEVBQUEsTUFBQSxLQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLGFBSUEsRUFBQSxRQUFBLFdBQ0EsR0FBQSxFQUVBLEdBQUEsRUFBQSxFQUFBLGNBQUEsS0FBQSxFQUFBLEVBQUEsY0FBQSxHQUVBLEVBQUEsTUFBQSxLQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLGVBR0EsT0FBQSxPQUFBLFFBQUEsRUFBQSxPQUFBLGdCQUNBLEVBQUEsaUJBQUEsZUFBQSxvREFHQSxFQUFBLE9BQ0EsRUFBQSxLQUFBLEVBQUEsRUFBQSxhQUFBLEtBQUEsRUFBQSxFQUFBLE1BQUEsSUFHQSxFQUFBLE1BQUEsS0FBQSxFQUFBLEdBRUEsRUFBQSxLQUFBLEVBQUEsT1B6RUEsRUFBQSxZQUFBLFNBQ0EsRUFBQSxhQUFBLFNBRUEsRUFBQSxpQkFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsa0JBQUEsS0FDQSxFQUFBLEVBQ0EsR0FBQSxHQUdBLEVBQUEsR0FBQSxFQUVBLElBQ0EsRUFBQSxHQUFBLElBSUEsRUFBQSxpQkFBQSxTQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FDQSxFQUFBLE1BWUEsT0FWQSxJQUNBLEVBQUEsS0FBQSxrQkFBQSxpQkFBQSxHQUNBLEVBQUEsRUFBQSxNQUFBLEtBQUEsR0FBQSxPQUNBLEVBQUEsRUFBQSxJQUFBLFFBRUEsR0FBQSxnQkFBQSxJQUFBLEVBQUEsY0FBQSxXQUNBLEVBQUEsUUFJQSxFQUFBLEdBQUEsS0FBQSxLQUFBLEVBQUEsS0FHQSxFQUFBLGlCQUFBLE9BQUEsbUJBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEtBQUEsTUFBQSxHQUFBLEtBQUEsVUFBQSxLQUdBLEVBQUEsaUJBQUEsT0FBQSxZQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxDQUVBLE9BQUEsSUFJQSxFQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsZUFBQSxtQkFBQSxJQUVBLEVBQUEsZ0JBQUEsVUFBQSxFQUVBLEVBQUEsS0FBQSxNQUFBLEVBQUEsRUFBQSxNQUFBLEtBQUEsRUFBQSxLQUFBLFNBQUEsSUFFQSxHQVZBLEVBQUEsWUFhQSxFQUFBLGlCQUFBLE1BQUEsV0FBQSxHQUNBLEVBQUEsaUJBQUEsTUFBQSxrQkFBQSxHQ3ZEQSxFQUFBLEdBQUEsU0FBQSxFQUFBLEdBRUEsRUFBQSxHQUFBLFlBQUEsRUFBQSxHQUVBLEVBQUEsR0FBQSxZQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxFQUdBLEdBREEsU0FBQSxFQUNBLEVBQUEsS0FBQSxHQUFBLEVBQUEsRUFFQSxFQUFBLEVBQUEsRUFHQSxFQUFBLEtBQUEsS0FBQSxLQUdBLEVBQUEsR0FBQSxTQUFBLFNBQUEsR0FJQSxJQUhBLEdBQUEsR0FBQSxFQUNBLEVBQUEsS0FBQSxPQUVBLEVBQUEsRUFBQSxJQUNBLEdBQUEsRUFBQSxLQUFBLEdBQUEsR0FDQSxPQUFBLENBSUEsUUFBQSxHQzFCQSxFQUFBLEdBQUEsS0FBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLFVBQUEsR0FBQSxTQUFBLEVBQ0EsS0FBQSxRQUFBLEVBQUEsR0FDQSxLQUFBLE9BQ0EsS0FBQSxRQUFBLEdBREEsUUFLQSxFQUFBLEdBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxJQUVBLFlBQUEsR0FDQSxFQUFBLFFBQUEsRUFBQSxJQUFBLEVBRUEsRUFBQSxhQUFBLFFBQUEsRUFBQSxHQUFBLEtBSUEsRUFBQSxHQUFBLFFBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLEVBRUEsSUFBQSxFQUVBLE1BQUEsVUFBQSxFQUNBLFdBQUEsR0FDQSxFQUFBLFFBQUEsRUFBQSxJQUVBLEVBQUEsYUFBQSxRQUFBLEVBQUEsSUFFQSxXQUFBLEdBQ0EsT0FBQSxPQUFBLEVBQUEsU0FHQSxFQUFBLEVBQUEsYUFvQkEsRUFBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEtBQUEsRUFBQSxJTXREQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEtBQUEsaUJBQUEsRUFBQSxHQUFBLEtBR0EsRUFBQSxHQUFBLElBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLElBQUEsQ0FFQSxHQUFBLE1BQUEsR0FBQSxFQUFBLFFBQUEsR0FBQSxHQUNBLElBSUEsR0FBQSxFQUNBLEVBQUEsTUFBQSxJQUFBLEVBQUEsR0FFQSxFQUFBLEtBQUEsS0FBQSxRQUlBLEVBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxPQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsS0FBQSxvQkFBQSxFQUFBLEdBQUEsS0FHQSxFQUFBLEdBQUEsUUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQ0EsRUFBQSxFQUNBLEVBQUEsS0FBQSxNQUVBLFVBQUEsSUFDQSxNQUdBLEVBQUEsTUFBQSxDQUVBLEtBQ0EsRUFBQSxHQUFBLGFBQUEsR0FDQSxPQUFBLElBRUEsTUFBQSxHQUNBLEVBQUEsRUFBQSxZQUFBLGVBQ0EsRUFBQSxnQkFBQSxHQUFBLEdBQUEsRUFBQSxHQUdBLEtBQUEsRUFBQSxFQUFBLElBQ0EsS0FBQSxHQUFBLGNBQUEsRUFHQSxPQUFBLE9MdkNBLEVBQUEsR0FBQSxHQUFBLFdBQ0EsR0FBQSxHQUNBLEVBQUEsRUFBQSxJQUtBLE9BSEEsR0FBQSxFQUFBLFNBQUEsRUFBQSxpQkFBQSxFQUFBLHNCQUNBLEVBQUEsR0FBQSxFQUFBLG9CQUFBLEVBQUEsbUJBQUEsRUFBQSxpQkFFQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUNBLEVBQUEsS0FBQSxNQUVBLGNBQUEsSUFDQSxJQUFBLFNBQ0EsRUFBQSxDQUNBLE1BRUEsS0FBQSxXQUNBLEVBQUEsQ0FDQSxNQUVBLEtBQUEsU0FDQSxLQUNBLFlBQUEsVUFDQSxZQUFBLFNBQ0EsWUFBQSxXQUlBLEtBQUEsSUFBQSxPQUFBLHFDQUZBLEdBQUEsQ0FJQSxNQUVBLFNBQ0EsS0FBQSxJQUFBLE9BQUEsc0NBSUEsS0FBQSxFQUFBLEVBQUEsSUFHQSxHQUZBLEVBQUEsRUFBQSxLQUFBLEdBQUEsR0FHQSxNQUFBLEVBSUEsUUFBQSxNQ3REQSxFQUFBLEdBQUEsS0FBQSxFQUFBLFdBRUEsTUFEQSxNQUFBLE1BQUEsUUFBQSxPQUNBLE9BR0EsRUFBQSxHQUFBLEtBQUEsRUFBQSxXQUVBLE1BREEsTUFBQSxNQUFBLFFBQUEsR0FDQSxPQUdBLEVBQUEsR0FBQSxNQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsQ0FNQSxNQUpBLFNBQUEsR0FBQSxPQUFBLEtBQ0EsR0FBQSxHQUdBLEVBQUEsS0FBQSxPQUFBLElBQ0EsS0FBQSxHQUFBLEtBQUEsR0FBQSxVQUFBLEVBR0EsT0FBQSxPQUdBLEVBQUEsR0FBQSxLQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsQ0FFQSxJQUFBLFNBQUEsRUFDQSxNQUFBLE1BQUEsR0FBQSxTQUdBLEtBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxPQUFBLEVBQUEsRUFBQSxJQUNBLEtBQUEsR0FBQSxVQUFBLENBR0EsT0FBQSxPQUdBLEVBQUEsR0FBQSxLQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsQ0FFQSxJQUFBLFNBQUEsRUFDQSxNQUFBLE1BQUEsV0FHQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxLQUFBLEdBQUEsWUFBQSxDQUdBLE9BQUEsT0FHQSxFQUFBLEdBQUEsUUFBQSxTQUFBLEdBQ0EsSUFBQSxFQUNBLEtBQUEsSUFBQSxPQUFBLDJDQUdBLE9BQUEsTUFBQSxJQUFBLEtBQUEsR0FBQSxhQUFBLElBR0EsRUFBQSxHQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxJQUFBLEVBQ0EsS0FBQSxJQUFBLE9BQUEsMkNBQ0EsSUFBQSxTQUFBLEVBQ0EsS0FBQSxJQUFBLE9BQUEsNENBR0EsTUFBQSxhQUFBLEVBQUEsS0FHQSxFQUFBLEdBQUEsS0FBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLFVBQUEsRUFDQSxLQUFBLFFBQUEsSUFHQSxLQUFBLFFBQUEsRUFBQSxHQUNBLE9BR0EsRUFBQSxHQUFBLFlBQUEsRUFBQSxHQUFBLFFBQUEsRUFBQSxTQUFBLEdBQ0EsR0FBQSxFQUVBLFVBQUEsR0FBQSxPQUFBLEVBQ0EsS0FBQSxTQUNBLFlBQUEsSUFBQSxZQUFBLGNBQ0EsRUFBQSxFQUFBLEdBRUEsWUFBQSxLQUNBLEVBQUEsRUFBQSxJQUdBLEtBQUEsV0FBQSxhQUFBLEVBQUEsTUFFQSxFQUFBLElBRUEsS0FBQSxVQUFBLElBeUNBLEVBQUEsR0FBQSxPQUFBLFNBQUEsR0FDQSxHQUNBLEdBQUEsRUFDQSxFQUFBLEtBQUEsTUFFQSxJQUFBLFNBQUEsRUFDQSxLQUFBLElBQUEsT0FBQSwyQ0FHQSxJQUFBLGdCQUFBLEdBQUEsQ0FDQSxLQUFBLEVBQUEsRUFBQSxJQUNBLEtBQUEsR0FBQSxtQkFBQSxZQUFBLEVBR0EsT0FBQSxNQU9BLElBSkEsWUFBQSxLQUNBLEVBQUEsRUFBQSxJQUdBLEVBQUEsRUFBQSxJQUNBLEtBQUEsR0FBQSxZQUFBLEVBR0EsT0FBQSxPQUdBLEVBQUEsR0FBQSxRQUFBLFNBQUEsR0FDQSxHQUNBLEdBQUEsRUFDQSxFQUFBLEtBQUEsTUFFQSxJQUFBLFNBQUEsRUFDQSxLQUFBLElBQUEsT0FBQSw0Q0FHQSxJQUFBLGdCQUFBLEdBQUEsQ0FDQSxLQUFBLEVBQUEsRUFBQSxJQUNBLEtBQUEsR0FBQSxtQkFBQSxhQUFBLEVBR0EsT0FBQSxNQU9BLElBSkEsWUFBQSxLQUNBLEVBQUEsRUFBQSxJQUdBLEVBQUEsRUFBQSxJQUNBLEtBQUEsR0FBQSxhQUFBLEVBQUEsS0FBQSxHQUFBLFdBR0EsT0FBQSxPQUdBLEVBQUEsR0FBQSxNQUFBLFNBQUEsR0FDQSxHQUNBLEdBQUEsRUFDQSxFQUFBLEtBQUEsTUFFQSxJQUFBLFNBQUEsRUFDQSxLQUFBLElBQUEsT0FBQSwyQ0FHQSxJQUFBLGdCQUFBLEdBQUEsQ0FDQSxLQUFBLEVBQUEsRUFBQSxJQUNBLEtBQUEsR0FBQSxtQkFBQSxXQUFBLEVBR0EsT0FBQSxNQU9BLElBSkEsWUFBQSxLQUNBLEVBQUEsRUFBQSxJQUdBLEVBQUEsRUFBQSxJQUNBLEtBQUEsR0FBQSxtQkFBQSxXQUFBLEVBQUEsVUFHQSxPQUFBLE9BR0EsRUFBQSxHQUFBLElBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxLQUFBLE1BRUEsSUFBQSxTQUFBLEVBQ0EsS0FBQSxJQUFBLE9BQUEsd0NBR0EsSUFBQSxTQUFBLEVBQ0EsTUFBQSxrQkFBQSxLQUFBLElBQUEsRUFNQSxLQUpBLEVBQUEsRUFBQSxRQUFBLE1BQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxPQUFBLEdBQUEsZ0JBR0EsRUFBQSxFQUFBLElBQ0EsS0FBQSxHQUFBLE1BQUEsR0FBQSxDQUlBLE9BQUEsT0FHQSxFQUFBLEdBQUEsT0FBQSxFQUFBLFdBQ0EsS0FBQSxXQUFBLFlBQUEsUUFHQSxFQUFBLEdBQUEsTUFBQSxFQUFBLFdBQ0EsS0FBQSxVQUFBLElDeFBBLElBQUEsR0FDQSxJSURBLEdBQUEsaUJBQUEsU0FBQSxFQUFBLEdBQ0EsSUFBQSxHQUFBLGdCQUFBLEdBQ0EsS0FBQSxJQUFBLE9BQUEsa0VBQ0EsS0FBQSxHQUFBLGtCQUFBLEdBQ0EsS0FBQSxJQUFBLE9BQUEsNERBR0EsT0FBQSxFQUFBLEtBQ0EsRUFBQSxJQUFBLEdBR0EsR0FBQSxFQUNBLEVBQUEsR0FBQSxHQUdBLEVBQUEsaUJBQUEsU0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEtBQUEsY0FBQSxNQUdBLEVBQUEsaUJBQUEsU0FBQSxXQUdBLFFBQUEsR0FBQSxHQUNBLE9BQUEsRUFBQSxRQUFBLEVBQUEsU0FIQSxHQUFBLEdBQUEsK0JBQUEsTUFBQSxJQU1BLE9BQUEsVUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEVBSUEsT0FGQSxHQUFBLEtBQUEsTUFBQSxLQUFBLE9BQUEsS0FBQSxLQUFBLGlCQUFBLEdBQUEsSUFFQSxPQy9CQSxFQUFBLEdBQUEsT0FBQSxFQUFBLFdBQ0EsTUFBQSxNQUFBLGFBR0EsRUFBQSxHQUFBLEtBQUEsRUFBQSxXQUNBLE1BQUEsTUFBQSxxQkFHQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsU0FBQSxFQUFBLFdBQ0EsTUFBQSxNQUFBLHlCQUdBLEVBQUEsR0FBQSxTQUFBLEVBQUEsV0FDQSxTQUFBLE9BQUEsS0FBQSxLQUFBLFdBQUEsU0FBQSxTQUFBLEdBQ0EsTUFBQSxLQUFBLE1BQ0EsUUFHQSxFQUFBLEdBQUEsUUFBQSxFQUFBLFdBQ0EsTUFBQSxHQUFBLEtBQUEsd0JBR0EsRUFBQSxHQUFBLFFBQUEsRUFBQSxXQUNBLE1BQUEsR0FBQSxLQUFBLDRCQUdBLEVBQUEsR0FBQSxTQUFBLEVBQUEsV0FDQSxNQUFBLE1BQUEsVUozQkEsSUFBQSxHQUFBLFFBQ0EsRUFBQSxnQkFrQkEsRUFBQSxXQUNBLEdBQUEsRUFFQSxPQUFBLE9BQUEsR0FDQSxHQUFBLE1BR0EsTUFHQSxJQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxHQUVBLElBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxRQWtFQSxHQUFBLFdBQUEsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxDQVVBLEtBUkEsZ0JBQUEsSUFDQSxFQUFBLE1BQ0EsRUFBQSxNQUVBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxFQUNBLEVBQUEsVUFBQSxRQUdBLEVBQUEsVUFBQSxPQUFBLElBR0EsR0FGQSxFQUFBLFVBQUEsR0FNQSxJQUFBLEdBQUEsS0FBQSxHQUNBLEVBQUEsZUFBQSxLQUNBLEdBQUEsZ0JBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLElBRUEsRUFBQSxHQUFBLEVBQUEsR0FNQSxPQUFBLElBR0EsRUFBQSxPQUFBLFdBRUEsU0FEQSxRQUFBLEtBQUEsVUFBQSxHQUNBLEVBQUEsV0FBQSxNQUFBLEtBQUEsWUFHQSxFQUFBLEdBQUEsS0FBQSxFQUFBLFNBQUEsR0FFQSxNQURBLEdBQUEsS0FBQSxLQUFBLE1BQ0EsT0FHQSxFQUFBLFlBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxJQUVBLEtBQUEsSUFBQSxHQUNBLEVBQUEsZUFBQSxLQUVBLEVBREEsRUFDQSxFQUFBLElBQUEsRUFBQSxJQUVBLEVBR0EsRUFBQSxFQUFBLEdBR0EsRUFBQSxLQURBLEdBQUEsZ0JBQUEsR0FDQSxFQUFBLFlBQUEsRUFBQSxHQUVBLG1CQUFBLEdBQUEsSUFBQSxtQkFBQSxJQUtBLE9BQUEsR0FBQSxLQUFBLE9LcEtBLE9BQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIHouanMgSmF2YVNjcmlwdCBMaWJyYXJ5IHZAVkVSU0lPTlxuICogaHR0cHM6Ly9naXRodWIuY29tL05FVVJTL3ouanNcbiAqXG4gKiBDb3B5cmlnaHQgMjAxNSBORVVSUyBMTEMsIEtldmluIEouIE1hcnRpbiwgYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTkVVUlMvei5qcy9ibG9iL21hc3Rlci9MSUNFTlNFXG4gKlxuICogRGF0ZTogQERBVEVcbiAqL1xuOyhmdW5jdGlvbiAod2luZG93LCBkb2N1bWVudCkge1xuIiwidmFyIHpBcnJheSwgX3dpbmRvdywgX2RvY3VtZW50LFxuXHRjYWNoZSA9IFtdO1xuXG5mdW5jdGlvbiB6KGVsZW0sIHNjb3BlKSB7XG5cdGlmIChlbGVtIGluc3RhbmNlb2YgekFycmF5KSB7XG5cdFx0cmV0dXJuIGVsZW07XG5cdH0gZWxzZSBpZiAoZWxlbSBpbnN0YW5jZW9mIEVsZW1lbnQgfHwgZWxlbSBpbnN0YW5jZW9mIFdpbmRvdyB8fCBlbGVtIGluc3RhbmNlb2YgRG9jdW1lbnQpIHtcblx0XHRyZXR1cm4gbmV3IHpBcnJheShlbGVtKTtcblx0fSBlbHNlIGlmIChlbGVtID09PSB1bmRlZmluZWQgfHwgZWxlbSA9PT0gbnVsbCkge1xuXHRcdHJldHVybiBuZXcgekFycmF5KCk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGVsZW0gIT09IFwic3RyaW5nXCIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGaXJzdCBwYXJhbWV0ZXIgaXMgaW52YWxpZFwiKTtcblx0fVxuXG5cdGlmIChzY29wZSkge1xuXHRcdGlmICghX2NoZWNrVmFsaWRFbGVtZW50KHNjb3BlKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiU2Vjb25kIHBhcmFtZXRlciBpcyBpbnZhbGlkXCIpO1xuXHRcdH1cblxuXHRcdHNjb3BlID0geihzY29wZSk7XG5cdH0gZWxzZSB7XG5cdFx0c2NvcGUgPSBfZG9jdW1lbnQ7XG5cdH1cblxuXHRyZXR1cm4gX2ZpbmQoc2NvcGUsIGVsZW0pO1xufVxuXG5mdW5jdGlvbiBub29wKCl7fVxuXG4oZnVuY3Rpb24gKCkge1xuXHR2YXIgc2NvcGU7XG5cblx0aWYgKCdBY3RpdmVYT2JqZWN0JyBpbiB3aW5kb3cpIHtcblx0XHRzY29wZSA9IG5ldyBBY3RpdmVYT2JqZWN0KFwiaHRtbGZpbGVcIik7XG5cblx0XHRzY29wZS5vcGVuKCk7XG5cdFx0c2NvcGUud3JpdGUoXCI8c2NyaXB0PjxcXC9zY3JpcHQ+XCIpO1xuXHRcdHNjb3BlLmNsb3NlKCk7XG5cdFx0Y2FjaGUucHVzaChzY29wZSk7XG5cblx0XHR6QXJyYXkgPSBzY29wZS5wYXJlbnRXaW5kb3cuQXJyYXk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0dHJ5IHtcblx0XHRzY29wZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG5cblx0XHRzY29wZS5zdHlsZS53aWR0aCAgICAgICAgICAgID0gMDtcblx0XHRzY29wZS5zdHlsZS5oZWlnaHQgICAgICAgICAgICA9IDA7XG5cdFx0c2NvcGUuc3R5bGUuYm9yZGVyU3R5bGUgICAgPSBcIm5vbmVcIjtcblxuXHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NvcGUpO1xuXG5cdFx0ekFycmF5ID0gc2NvcGUuY29udGVudFdpbmRvdy5BcnJheTtcblxuXHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2NvcGUpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0ekFycmF5ID0gQXJyYXk7XG5cdH1cbn0pKCk7XG5cbi8vd2luZG93LiRcdD0gejtcbndpbmRvdy56XHQ9IHo7XG56LmZuXHRcdD0gekFycmF5LnByb3RvdHlwZTtcbl93aW5kb3dcdFx0PSB6KHdpbmRvdyk7XG5fZG9jdW1lbnRcdD0geihkb2N1bWVudCk7XG5cbnouZm4uZmluZCA9IGZ1bmN0aW9uIChzdHJFbGVtKSB7XG5cdGlmICh0eXBlb2Ygc3RyRWxlbSAhPT0gXCJzdHJpbmdcIikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkZpcnN0IHBhcmFtYXRlciBvZiB6I2ZpbmQoKSBzaG91bGQgYmUgYSBzdHJpbmdcIik7XG5cdH1cblxuXHRyZXR1cm4gX2ZpbmQodGhpcywgc3RyRWxlbSk7XG59O1xuIiwidmFyIGFqYXhEZWZhdWx0cywgYWpheFR5cGVzLFxuXHRhamF4TWltZXNcdD0ge31cblxuYWpheERlZmF1bHRzID0ge1xuXHRtZXRob2Q6IFwiR0VUXCIsXG5cdHJlcXVlc3RUeXBlOiBcInRleHRcIixcblx0cmVzcG9uc2VUeXBlOiBcInRleHRcIixcblx0dXJsOiB3aW5kb3cubG9jYXRpb24gKyBcIlwiLFxuXHRxdWVyeTogbnVsbCxcblx0ZGF0YTogbnVsbCxcblx0c2V0dXA6IG5vb3AsXG5cdHN1Y2Nlc3M6IG5vb3AsXG5cdGVycm9yOiBub29wXG59O1xuXG5hamF4VHlwZXMgPSB7XG5cdHRleHQ6IGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0cmV0dXJuIChkYXRhIHx8IFwiXCIpICsgXCJcIjtcblx0fVxufTtcblxuei5hamF4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0dmFyIGRhdGEsXG5cdFx0cmVxID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cblx0b3B0aW9ucyA9IHouZXh0ZW5kKHtcblx0XHRjb250ZXh0OiByZXFcblx0fSwgYWpheERlZmF1bHRzLCBvcHRpb25zKTtcblxuXHRpZiAoIWFqYXhUeXBlc1tvcHRpb25zLnJlcXVlc3RUeXBlXSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb3B0aW9uIGByZXF1ZXN0VHlwZWBcIik7XG5cdH0gZWxzZSBpZiAoIWFqYXhUeXBlc1tvcHRpb25zLnJlc3BvbnNlVHlwZV0pIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG9wdGlvbiBgcmVzcG9uc2VUeXBlYFwiKTtcblx0fVxuXG5cdGlmIChvcHRpb25zLnF1ZXJ5ICYmIH5bXCJIRUFEXCIsIFwiR0VUXCJdLmluZGV4T2Yob3B0aW9ucy5tZXRob2QudG9VcHBlckNhc2UoKSkpIHtcblx0XHRvcHRpb25zLnVybFx0Kz0gfm9wdGlvbnMudXJsLmluZGV4T2YoXCI/XCIpID8gXCImXCIgOiBcIj9cIjtcblx0XHRvcHRpb25zLnVybFx0Kz0gei5xdWVyeVN0cmluZyhvcHRpb25zLnF1ZXJ5KTtcblx0XHRvcHRpb25zLnVybFx0PSBvcHRpb25zLnVybC5yZXBsYWNlKC8oXFw/fCYpJi9nLCBcIiQxXCIpO1xuXHR9XG5cblx0cmVxLm9wZW4ob3B0aW9ucy5tZXRob2QsIG9wdGlvbnMudXJsLCB0cnVlKTtcblxuXHRyZXEub25sb2FkID0gZnVuY3Rpb24gKCkge1xuXHRcdHZhciByZXNwO1xuXG5cdFx0cmVzcCA9IGFqYXhUeXBlc1tvcHRpb25zLnJlc3BvbnNlVHlwZV0uY2FsbChyZXEsIHJlcS5yZXNwb25zZVRleHQsIHRydWUpO1xuXG5cdFx0aWYgKHJlcS5zdGF0dXMgPj0gMjAwICYmIHJlcS5zdGF0dXMgPCA0MDApIHtcblx0XHRcdG9wdGlvbnMuc3VjY2Vzcy5jYWxsKG9wdGlvbnMuY29udGV4dCwgcmVzcCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG9wdGlvbnMuZXJyb3IuY2FsbChvcHRpb25zLmNvbnRleHQsIHJlc3AsIHJlcS5zdGF0dXMsIHJlcS5zdGF0dXNUZXh0KTtcblx0XHR9XG5cdH07XG5cblx0cmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHJlc3A7XG5cblx0XHRyZXNwID0gYWpheFR5cGVzW29wdGlvbnMucmVzcG9uc2VUeXBlXS5jYWxsKHJlcSwgcmVxLnJlc3BvbnNlVGV4dCwgdHJ1ZSk7XG5cblx0XHRvcHRpb25zLmVycm9yLmNhbGwob3B0aW9ucy5jb250ZXh0LCByZXNwLCByZXEuc3RhdHVzLCByZXEuc3RhdHVzVGV4dCk7XG5cdH07XG5cblx0aWYgKCF+W1wiSEVBRFwiLCBcIkdFVFwiXS5pbmRleE9mKG9wdGlvbnMubWV0aG9kLnRvVXBwZXJDYXNlKCkpKSB7XG5cdFx0cmVxLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIik7XG5cdH1cblxuXHRpZiAob3B0aW9ucy5kYXRhKSB7XG5cdFx0b3B0aW9ucy5kYXRhID0gYWpheFR5cGVzW29wdGlvbnMucmVxdWVzdFR5cGVdLmNhbGwocmVxLCBvcHRpb25zLmRhdGEsIGZhbHNlKTtcblx0fVxuXG5cdG9wdGlvbnMuc2V0dXAuY2FsbChyZXEsIHJlcSk7XG5cblx0cmVxLnNlbmQob3B0aW9ucy5kYXRhKTtcbn07XG4iLCJhamF4RGVmYXVsdHMucmVxdWVzdFR5cGVcdD0gXCJkZXRlY3RcIjtcbmFqYXhEZWZhdWx0cy5yZXNwb25zZVR5cGVcdD0gXCJkZXRlY3RcIjtcblxuei5yZWdpc3RlckFqYXhUeXBlID0gZnVuY3Rpb24gKHR5cGUsIG1pbWUsIGZuKSB7XG5cdGlmICghZm4gJiYgdHlwZW9mIG1pbWUgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdGZuXHRcdD0gbWltZTtcblx0XHRtaW1lXHQ9IGZhbHNlO1xuXHR9XG5cblx0YWpheFR5cGVzW3R5cGVdID0gZm47XG5cblx0aWYgKG1pbWUpIHtcblx0XHRhamF4TWltZXNbbWltZV0gPSB0eXBlO1xuXHR9XG59O1xuXG56LnJlZ2lzdGVyQWpheFR5cGUoXCJkZXRlY3RcIiwgZnVuY3Rpb24gKGRhdGEsIGlzUmVzcG9uc2UpIHtcblx0dmFyIGhlYWRlcixcblx0XHR0eXBlID0gXCJ0ZXh0XCI7XG5cblx0aWYgKGlzUmVzcG9uc2UpIHtcblx0XHRoZWFkZXJcdD0gdGhpcy5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSB8fCBcIlwiLFxuXHRcdGhlYWRlclx0PSBoZWFkZXIuc3BsaXQoXCI7XCIpWzBdLnRyaW0oKTtcblx0XHR0eXBlXHQ9IGFqYXhNaW1lc1toZWFkZXJdIHx8IFwidGV4dFwiO1xuXHR9IGVsc2Uge1xuXHRcdGlmIChkYXRhICYmIHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiICYmIGRhdGEudG9TdHJpbmcgPT09ICh7fSkudG9TdHJpbmcpIHtcblx0XHRcdHR5cGUgPSBcImpzb25cIjtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gYWpheFR5cGVzW3R5cGVdLmNhbGwodGhpcywgZGF0YSwgaXNSZXNwb25zZSk7XG59KTtcblxuei5yZWdpc3RlckFqYXhUeXBlKFwianNvblwiLCBcImFwcGxpY2F0aW9uL2pzb25cIiwgZnVuY3Rpb24gKGRhdGEsIGlzUmVzcG9uc2UpIHtcblx0cmV0dXJuIGlzUmVzcG9uc2UgPyBKU09OLnBhcnNlKGRhdGEpIDogSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG59KTtcblxuei5yZWdpc3RlckFqYXhUeXBlKFwiaHRtbFwiLCBcInRleHQvaHRtbFwiLCBmdW5jdGlvbiAoZGF0YSwgaXNSZXNwb25zZSkge1xuXHR2YXIgZG9jLCBhcnI7XG5cblx0aWYgKCFpc1Jlc3BvbnNlKSB7XG5cdFx0cmV0dXJuIGRhdGEub3V0ZXJIVE1MO1xuXHR9XG5cblx0YXJyXHQ9IG5ldyB6QXJyYXkoKTtcblx0ZG9jID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpO1xuXG5cdGRvYy5kb2N1bWVudEVsZW1lbnQuaW5uZXJIVE1MID0gZGF0YTtcblxuXHRhcnIucHVzaC5hcHBseShhcnIsIGFyci5zbGljZS5jYWxsKGRvYy5ib2R5LmNoaWxkcmVuLCAwKSk7XG5cblx0cmV0dXJuIGFycjtcbn0pO1xuXG56LnJlZ2lzdGVyQWpheFR5cGUoXCJ4bWxcIiwgXCJ0ZXh0L3htbFwiLCBhamF4WE1MUGFyc2VyKTtcbnoucmVnaXN0ZXJBamF4VHlwZShcInhtbFwiLCBcImFwcGxpY2F0aW9uL3htbFwiLCBhamF4WE1MUGFyc2VyKTtcblxuZnVuY3Rpb24gYWpheFhNTFBhcnNlcihkYXRhLCBpc1Jlc3BvbnNlKSB7XG5cdHZhciBwYXJzZXI7XG5cblx0aWYgKCFpc1Jlc3BvbnNlKSB7XG5cdFx0cGFyc2VyID0gbmV3IFhNTFNlcmlhbGl6ZXIoKTtcblx0XHRyZXR1cm4gcGFyc2VyLnNlcmlhbGl6ZVRvU3RyaW5nKGRhdGEpO1xuXHR9XG5cblx0aWYgKHRoaXMucmVzcG9uc2VYTUwpIHtcblx0XHRyZXR1cm4gdGhpcy5yZXNwb25zZVhNTDtcblx0fVxuXG5cdHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblx0cmV0dXJuIHBhcnNlci5wYXJzZUZyb21TdHJpbmcoZGF0YSwgXCJhcHBsaWNhdGlvbi94bWxcIik7XG59XG4iLCJ6LmZuLmFkZENsYXNzID0gX2VhY2goX2FkZENsYXNzKTtcblxuei5mbi5yZW1vdmVDbGFzcyA9IF9lYWNoKF9yZW1vdmVDbGFzcyk7XG5cbnouZm4udG9nZ2xlQ2xhc3MgPSBfZWFjaChmdW5jdGlvbiB0b2dnbGVDbGFzcyhjbGFzc05hbWUsIGZvcmNlKSB7XG5cdHZhciBmbjtcblxuXHRpZiAoZm9yY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdGZuID0gX2VsZW1IYXNDbGFzcyh0aGlzLCBjbGFzc05hbWUpID8gX3JlbW92ZUNsYXNzIDogX2FkZENsYXNzO1xuXHR9IGVsc2Uge1xuXHRcdGZuID0gZm9yY2UgPyBfYWRkQ2xhc3MgOiBfcmVtb3ZlQ2xhc3M7XG5cdH1cblxuXHRmbi5jYWxsKHRoaXMsIGNsYXNzTmFtZSk7XG59KTtcblxuei5mbi5oYXNDbGFzcyA9IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcblx0dmFyIGkgPSAwLFxuXHRcdGwgPSB0aGlzLmxlbmd0aDtcblxuXHRmb3IgKDsgaSA8IGw7IGkrKykge1xuXHRcdGlmIChfZWxlbUhhc0NsYXNzKHRoaXNbaV0sIGNsYXNzTmFtZSkpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBmYWxzZTtcbn07XG5cbmZ1bmN0aW9uIF9hZGRDbGFzcyhjbGFzc05hbWUpIHtcblx0aWYgKFwiY2xhc3NMaXN0XCIgaW4gdGhpcykge1xuXHRcdHRoaXMuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuXHR9IGVsc2Uge1xuXHRcdHRoaXMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgdGhpcy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSArIFwiIFwiICsgY2xhc3NOYW1lKTtcblx0fVxufVxuXG5mdW5jdGlvbiBfcmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKSB7XG5cdHZhciB2YWx1ZTtcblxuXHRpZiAoXCJjbGFzc0xpc3RcIiBpbiB0aGlzKSB7XG5cdFx0dGhpcy5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG5cdH0gZWxzZSB7XG5cdFx0dmFsdWUgPSB0aGlzLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLnJlcGxhY2UoX2NsYXNzUmVnZXhwKGNsYXNzTmFtZSksIFwiIFwiKTtcblx0XHR0aGlzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHZhbHVlKTtcblx0fVxufVxuXG5mdW5jdGlvbiBfY2xhc3NSZWdleHAoY2xhc3NOYW1lKSB7XG5cdHZhciByZWdleHAgPSBfY2FjaGUuZ2V0KFwiY2xhc3MuXCIgKyBjbGFzc05hbWUpO1xuXG5cdGlmICghcmVnZXhwKSB7XG5cdFx0cmVnZXhwID0gbmV3IFJlZ0V4cChcIihefFxcXFxiKVwiICsgY2xhc3NOYW1lICsgXCIoXFxcXGJ8JClcIiwgXCJnXCIpO1xuXHRcdF9jYWNoZS5zZXQoXCJjbGFzcy5cIiArIGNsYXNzTmFtZSwgcmVnZXhwKTtcblx0fVxuXG5cdHJldHVybiByZWdleHA7XG59XG5cbmZ1bmN0aW9uIF9lbGVtSGFzQ2xhc3MoZWxlbSwgY2xhc3NOYW1lKSB7XG5cdGlmIChcImNsYXNzTGlzdFwiIGluIGVsZW0pIHtcblx0XHRpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKF9jbGFzc1JlZ2V4cChjbGFzc05hbWUpLnRlc3QoZWxlbS5jbGFzc05hbWUpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59XG4iLCJ6LmZuLmRhdGEgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuXHRpZiAoa2V5ICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiB0aGlzLnNldERhdGEoa2V5LCB2YWx1ZSk7XG5cdH0gZWxzZSBpZiAodGhpcy5sZW5ndGgpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXREYXRhKGtleSk7XG5cdH1cbn07XG5cbnouZm4uc2V0RGF0YSA9IF9lYWNoKGZ1bmN0aW9uIF9zZXREYXRhKGtleSwgdmFsdWUpIHtcblx0dmFyIGVsZW0gPSB0aGlzO1xuXG5cdGlmIChcImRhdGFzZXRcIiBpbiBlbGVtKSB7XG5cdFx0ZWxlbS5kYXRhc2V0W190b0NhbWVsQ2FzZShrZXkpXSA9IHZhbHVlO1xuXHR9IGVsc2Uge1xuXHRcdGVsZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1cIiArIF90b0Rhc2hlcyhrZXkpLCB2YWx1ZSk7XG5cdH1cbn0pO1xuXG56LmZuLmdldERhdGEgPSBmdW5jdGlvbiAoa2V5KSB7XG5cdHZhciBlbGVtID0gdGhpc1swXTtcblxuXHRpZiAoIWVsZW0pIHtcblx0XHRyZXR1cm47XG5cdH0gZWxzZSBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcblx0XHRpZiAoXCJkYXRhc2V0XCIgaW4gZWxlbSkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZGF0YXNldFtfdG9DYW1lbENhc2Uoa2V5KV07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZShcImRhdGEtXCIgKyBfdG9EYXNoZXMoa2V5KSk7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKFwiZGF0YXNldFwiIGluIGVsZW0pIHtcblx0XHRyZXR1cm4gT2JqZWN0LmNyZWF0ZShlbGVtLmRhdGFzZXQpO1xuXHR9XG5cblx0cmV0dXJuIF9nZXREYXRhQXR0cnMoZWxlbS5hdHRyaWJ1dGVzKTtcbn07XG5cbmZ1bmN0aW9uIF9nZXREYXRhQXR0cnMoYXR0cnMpIHtcblx0dmFyIGF0dHIsXG5cdFx0aVx0PSAwLFxuXHRcdGxcdD0gYXR0cnMubGVuZ3RoLFxuXHRcdHJldFx0PSB7fTtcblxuXHRmb3IgKDsgaSA8IGw7IGkrKykge1xuXHRcdGF0dHIgPSBhdHRyc1tpXTtcblxuXHRcdGlmIChhdHRyLm5hbWUuaW5kZXhPZihcImRhdGEtXCIpID09PSAwKSB7XG5cdFx0XHRyZXRbX3RvQ2FtZWxDYXNlKGF0dHIubmFtZS5yZXBsYWNlKC9eZGF0YS0vLCBcIlwiKSldID0gYXR0ci52YWx1ZTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmV0O1xufVxuXG56LmRhdGEgPSBmdW5jdGlvbiAoZWxlbSwga2V5LCB2YWx1ZSkge1xuXHR6KGVsZW0pLmRhdGEoa2V5LCB2YWx1ZSk7XG59O1xuIiwiei5mbi5vbiA9IHouZm4uYmluZCA9IF9lYWNoKGZ1bmN0aW9uIF9vbihldmVudFR5cGUsIGZuKSB7XG5cdHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGZuLCBmYWxzZSk7XG59KTtcblxuei5mbi5vbmUgPSBfZWFjaChmdW5jdGlvbiAoZXZlbnQsIGZuKSB7XG5cdHZhciBjYWxsZWQgPSBmYWxzZTtcblxuXHR6KHRoaXMpLm9uKGV2ZW50LCBmdW5jdGlvbiBvbmNlRm4oZSkge1xuXHRcdGlmIChjYWxsZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjYWxsZWQgPSB0cnVlO1xuXHRcdHoodGhpcykub2ZmKGV2ZW50LCBvbmNlRm4pO1xuXG5cdFx0Zm4uY2FsbCh0aGlzLCBlKTtcblx0fSk7XG59KTtcblxuei5mbi5vZmYgPSB6LmZuLnVuYmluZCA9IF9lYWNoKGZ1bmN0aW9uIF9vZmYoZXZlbnRUeXBlLCBmbikge1xuXHR0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBmbiwgZmFsc2UpO1xufSk7XG5cbnouZm4udHJpZ2dlciA9IGZ1bmN0aW9uIChldmVudFR5cGUsIGRhdGEpIHtcblx0dmFyIGV2ZW50LFxuXHRcdGkgPSAwLFxuXHRcdGwgPSB0aGlzLmxlbmd0aDtcblxuXHRpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0ZGF0YSA9IHt9O1xuXHR9XG5cblx0ZGF0YS5ldmVudCA9IGRhdGE7XG5cblx0dHJ5IHtcblx0XHRldmVudCA9IG5ldyBDdXN0b21FdmVudChldmVudFR5cGUsIHtcblx0XHRcdGRldGFpbDogZGF0YVxuXHRcdH0pO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuXHRcdGV2ZW50LmluaXRDdXN0b21FdmVudChldmVudFR5cGUsIHRydWUsIHRydWUsIGRhdGEpO1xuXHR9XG5cblx0Zm9yICg7IGkgPCBsOyBpKyspIHtcblx0XHR0aGlzW2ldLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHR9XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuIiwiZnVuY3Rpb24gX2lzV2l0aEZ1bmN0aW9uKGVsZW0sIGZuKSB7XG5cdHJldHVybiBmbi5jYWxsKGVsZW0sIGVsZW0pO1xufVxuXG5mdW5jdGlvbiBfaXNXaXRoRWxlbWVudChlbGVtMSwgZWxlbTIpIHtcblx0cmV0dXJuIGVsZW0xID09PSBlbGVtMjtcbn1cblxuei5mbi5pcyA9IChmdW5jdGlvbiBfaXMoKSB7XG5cdHZhciBtYXRjaGVzLFxuXHRcdGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuXG5cdG1hdGNoZXNcdD0gYm9keS5tYXRjaGVzIHx8IGJvZHkubWF0Y2hlc1NlbGVjdG9yIHx8IGJvZHkud2Via2l0TWF0Y2hlc1NlbGVjdG9yO1xuXHRtYXRjaGVzID0gbWF0Y2hlcyB8fCBib2R5Lm1vek1hdGNoZXNTZWxlY3RvciB8fCBib2R5Lm1zTWF0Y2hlc1NlbGVjdG9yIHx8IGJvZHkub01hdGNoZXNTZWxlY3RvcjtcblxuXHRyZXR1cm4gZnVuY3Rpb24gaXMoc2VsZWN0b3IpIHtcblx0XHR2YXIgX2lzV2l0aCwgcmV0LFxuXHRcdFx0aVx0PSAwLFxuXHRcdFx0bFx0PSB0aGlzLmxlbmd0aDtcblxuXHRcdHN3aXRjaCAodHlwZW9mIHNlbGVjdG9yKSB7XG5cdFx0XHRjYXNlIFwic3RyaW5nXCI6XG5cdFx0XHRcdF9pc1dpdGggPSBtYXRjaGVzO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgXCJmdW5jdGlvblwiOlxuXHRcdFx0XHRfaXNXaXRoID0gX2lzV2l0aEZ1bmN0aW9uO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgXCJvYmplY3RcIjpcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHNlbGVjdG9yIGluc3RhbmNlb2YgRWxlbWVudCB8fFxuXHRcdFx0XHRcdHNlbGVjdG9yIGluc3RhbmNlb2YgV2luZG93IHx8XG5cdFx0XHRcdFx0c2VsZWN0b3IgaW5zdGFuY2VvZiBEb2N1bWVudFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRfaXNXaXRoID0gX2lzV2l0aEVsZW1lbnQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRmlyc3QgcGFyYW1ldGVyIG9mIHojaXMgaXMgaW52YWxpZFwiKTtcblx0XHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIkZpcnN0IHBhcmFtZXRlciBvZiB6I2lzIGlzIGludmFsaWRcIik7XG5cdFx0XHQvL2JyZWFrO1xuXHRcdH1cblxuXHRcdGZvciAoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRyZXQgPSBfaXNXaXRoKHRoaXNbaV0sIHNlbGVjdG9yKTtcblxuXHRcdFx0aWYgKHJldCkge1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fTtcbn0pKCk7XG4iLCJ6LmZuLmhpZGUgPSBfZWFjaChmdW5jdGlvbiBoaWRlKCkge1xuXHR0aGlzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblx0cmV0dXJuIHRoaXM7XG59KTtcblxuei5mbi5zaG93ID0gX2VhY2goZnVuY3Rpb24gc2hvdygpIHtcblx0dGhpcy5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcblx0cmV0dXJuIHRoaXM7XG59KTtcblxuei5mbi5jbG9uZSA9IGZ1bmN0aW9uIChkZWVwKSB7XG5cdHZhciBpID0gMDtcblxuXHRpZiAoZGVlcCA9PT0gdW5kZWZpbmVkIHx8IGRlZXAgPT09IG51bGwpIHtcblx0XHRkZWVwID0gZmFsc2U7XG5cdH1cblxuXHRmb3IgKDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHR0aGlzW2ldID0gdGhpc1tpXS5jbG9uZU5vZGUoZGVlcCk7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn07XG5cbnouZm4uaHRtbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHR2YXIgaSwgbDtcblxuXHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiB0aGlzWzBdLmlubmVySFRNTDtcblx0fVxuXG5cdGZvciAoaSA9IDAsIGwgPSB0aGlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdHRoaXNbaV0uaW5uZXJIVE1MID0gdmFsdWU7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn07XG5cbnouZm4udGV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHR2YXIgaSwgbDtcblxuXHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiB0aGlzLnRleHRDb250ZW50O1xuXHR9XG5cblx0Zm9yIChpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0dGhpc1tpXS50ZXh0Q29udGVudCA9IHZhbHVlO1xuXHR9XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG56LmZuLmdldEF0dHIgPSBmdW5jdGlvbiAoa2V5KSB7XG5cdGlmICgha2V5KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiRmlyc3QgcGFyYW1ldGVyIG9mIHojZ2V0QXR0ciBpcyByZXF1aXJlZFwiKTtcblx0fVxuXG5cdHJldHVybiB0aGlzWzBdICYmIHRoaXNbMF0uZ2V0QXR0cmlidXRlKGtleSk7XG59O1xuXG56LmZuLnNldEF0dHIgPSBfZWFjaChmdW5jdGlvbiBzZXRBdHRyKGtleSwgdmFsdWUpIHtcblx0aWYgKCFrZXkpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGaXJzdCBwYXJhbWV0ZXIgb2YgeiNzZXRBdHRyIGlzIHJlcXVpcmVkXCIpO1xuXHR9IGVsc2UgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJTZWNvbmQgcGFyYW1ldGVyIG9mIHojc2V0QXR0ciBpcyByZXF1aXJlZFwiKTtcblx0fVxuXG5cdHRoaXMuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xufSk7XG5cbnouZm4uYXR0ciA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG5cdGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0QXR0cihrZXkpO1xuXHR9XG5cblx0dGhpcy5zZXRBdHRyKGtleSwgdmFsdWUpO1xuXHRyZXR1cm4gdGhpcztcbn07XG5cbnouZm4ucmVwbGFjZVdpdGggPSB6LmZuLnJlcGxhY2UgPSBfZWFjaChmdW5jdGlvbiByZXBsYWNlV2l0aCh2YWx1ZSkge1xuXHR2YXIgc2NyaXB0cztcblxuXHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuXHRcdHRoaXMucmVtb3ZlKCk7XG5cdH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiB6QXJyYXkgfHwgdmFsdWUgaW5zdGFuY2VvZiBFdmVudFRhcmdldCkge1xuXHRcdHNjcmlwdHMgPSBfZXh0cmFjdFNjcmlwdHModmFsdWUpO1xuXG5cdFx0aWYgKHZhbHVlIGluc3RhbmNlb2YgekFycmF5KSB7XG5cdFx0XHR2YWx1ZSA9IHZhbHVlWzBdO1xuXHRcdH1cblxuXHRcdHRoaXMucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodmFsdWUsIHRoaXMpO1xuXG5cdFx0X2FkZFNjcmlwdHMoc2NyaXB0cyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5vdXRlckhUTUwgPSB2YWx1ZTtcblx0fVxufSk7XG5cbmZ1bmN0aW9uIF9leHRyYWN0U2NyaXB0cyhlbGVtKSB7XG5cdHZhciBzY3JpcHRzLFxuXHRcdGlcdD0gMCxcblx0XHRyZXRcdD0gW107XG5cblx0ZWxlbVx0PSB6KGVsZW0pO1xuXHRzY3JpcHRzXHQ9IGVsZW0uZmluZChcInNjcmlwdFwiKTtcblxuXHRmb3IgKDsgaSA8IHNjcmlwdHMubGVuZ3RoOyBpKyspIHtcblx0XHRyZXQucHVzaCh7XG5cdFx0XHRzcmM6IHNjcmlwdHNbaV0uc3JjLFxuXHRcdFx0dGV4dDogc2NyaXB0c1tpXS50ZXh0Q29udGVudFxuXHRcdH0pO1xuXG5cdFx0c2NyaXB0c1tpXS5yZW1vdmUoKTtcblx0fVxuXG5cdHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIF9hZGRTY3JpcHRzKHNjcmlwdHMpIHtcblx0dmFyIHNjcmlwdCxcblx0XHRpID0gMDtcblxuXHRmb3IgKDsgaSA8IHNjcmlwdHMubGVuZ3RoOyBpKyspIHtcblx0XHRzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuXG5cdFx0aWYgKHNjcmlwdHNbaV0uc3JjKSB7XG5cdFx0XHRzY3JpcHQuc3JjID0gc2NyaXB0c1tpXS5zcmM7XG5cdFx0fSBlbHNlIGlmIChzY3JpcHRzW2ldLnRleHQpIHtcblx0XHRcdHNjcmlwdC50ZXh0ID0gc2NyaXB0c1tpXS50ZXh0O1xuXHRcdH1cblxuXHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG5cdH1cbn1cblxuei5mbi5hcHBlbmQgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0dmFyIGVsZW1lbnQsXG5cdFx0aSA9IDAsXG5cdFx0bCA9IHRoaXMubGVuZ3RoO1xuXG5cdGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiRmlyc3QgcGFyYW1ldGVyIG9mIHojYXBwZW5kIGlzIHJlcXVpcmVkLlwiKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRmb3IgKDsgaSA8IGw7IGkrKykge1xuXHRcdFx0dGhpc1tpXS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIHZhbHVlKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdGlmICh2YWx1ZSBpbnN0YW5jZW9mIHpBcnJheSkge1xuXHRcdHZhbHVlID0gdmFsdWVbMF07XG5cdH1cblxuXHRmb3IgKDsgaSA8IGw7IGkrKykge1xuXHRcdHRoaXNbaV0uYXBwZW5kQ2hpbGQodmFsdWUpO1xuXHR9XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG56LmZuLnByZXBlbmQgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0dmFyIGVsZW1lbnQsXG5cdFx0aSA9IDAsXG5cdFx0bCA9IHRoaXMubGVuZ3RoO1xuXG5cdGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiRmlyc3QgcGFyYW1ldGVyIG9mIHojcHJlcGVuZCBpcyByZXF1aXJlZC5cIik7XG5cdH1cblxuXHRpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG5cdFx0Zm9yICg7IGkgPCBsOyBpKyspIHtcblx0XHRcdHRoaXNbaV0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgdmFsdWUpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0aWYgKHZhbHVlIGluc3RhbmNlb2YgekFycmF5KSB7XG5cdFx0dmFsdWUgPSB2YWx1ZVswXTtcblx0fVxuXG5cdGZvciAoOyBpIDwgbDsgaSsrKSB7XG5cdFx0dGhpc1tpXS5pbnNlcnRCZWZvcmUodmFsdWUsIHRoaXNbaV0uZmlyc3RDaGlsZCk7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn07XG5cbnouZm4uYWZ0ZXIgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0dmFyIGVsZW1lbnQsXG5cdFx0aSA9IDAsXG5cdFx0bCA9IHRoaXMubGVuZ3RoO1xuXG5cdGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiRmlyc3QgcGFyYW1ldGVyIG9mIHojYXBwZW5kIGlzIHJlcXVpcmVkLlwiKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRmb3IgKDsgaSA8IGw7IGkrKykge1xuXHRcdFx0dGhpc1tpXS5pbnNlcnRBZGphY2VudEhUTUwoXCJhZnRlcmVuZFwiLCB2YWx1ZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRpZiAodmFsdWUgaW5zdGFuY2VvZiB6QXJyYXkpIHtcblx0XHR2YWx1ZSA9IHZhbHVlWzBdO1xuXHR9XG5cblx0Zm9yICg7IGkgPCBsOyBpKyspIHtcblx0XHR0aGlzW2ldLmluc2VydEFkamFjZW50SFRNTChcImFmdGVyZW5kXCIsIHZhbHVlLm91dGVySFRNTCk7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn07XG5cbnouZm4uY3NzID0gZnVuY3Rpb24gKHJ1bGUsIHZhbHVlKSB7XG5cdHZhciBpID0gMCxcblx0XHRsID0gdGhpcy5sZW5ndGg7XG5cblx0aWYgKHJ1bGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkZpcnN0IHBhcmFtZXRlciBvZiB6I2NzcyBpcyByZXF1aXJlZC5cIik7XG5cdH1cblxuXHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBnZXRDb21wdXRlZFN0eWxlKHRoaXNbMF0pW3J1bGVdO1xuXHR9IGVsc2Uge1xuXHRcdHJ1bGUgPSBydWxlLnJlcGxhY2UoLy0uL2csIGZ1bmN0aW9uIChyZXN1bHQpIHtcblx0XHQgICAgcmV0dXJuIHJlc3VsdC5zdWJzdHIoMSkudG9VcHBlckNhc2UoKTtcblx0XHR9KTtcblxuXHRcdGZvciAoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHR0aGlzW2ldLnN0eWxlW3J1bGVdID0gdmFsdWU7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG56LmZuLnJlbW92ZSA9IF9lYWNoKGZ1bmN0aW9uIHJlbW92ZSgpIHtcblx0dGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpO1xufSk7XG5cbnouZm4uZW1wdHkgPSBfZWFjaChmdW5jdGlvbiBlbXB0eSgpIHtcblx0dGhpcy5pbm5lckhUTUwgPSAnJztcbn0pO1xuIiwidmFyIF9zZWxlY3RvcnNDYWNoZSxcblx0X3NlbGVjdG9ycyA9IHt9O1xuXG5mdW5jdGlvbiBfZmluZChzY29wZSwgc3RyRWxlbSkge1xuXHR2YXIgcmV0ID0gbmV3IHpBcnJheSgpO1xuXG5cdHNjb3BlLmZvckVhY2goZnVuY3Rpb24gX2ZpbmRGb3JFYWNoKHNjb3BlZEVsZW0pIHtcblx0XHRyZXQucHVzaC5hcHBseShyZXQsIF9zZWxlY3Qoc2NvcGVkRWxlbSwgc3RyRWxlbSkpO1xuXHR9KTtcblxuXHRyZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBfc2VsZWN0KHNjb3BlZEVsZW0sIHN0ckVsZW0pIHtcblx0aWYgKCF+c3RyRWxlbS5pbmRleE9mKFwiOlwiKSB8fCBfc2VsZWN0b3JzQ2FjaGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBzY29wZWRFbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoc3RyRWxlbSk7XG5cdH1cblxuXHRpZiAoX3NlbGVjdG9yc0NhY2hlID09PSBmYWxzZSkge1xuXHRcdF9nZW5lcmF0ZVNlbGVjdG9yc0NhY2hlKCk7XG5cdH1cblxuXHRpZiAoIXN0ckVsZW0ubWF0Y2goX3NlbGVjdG9yc0NhY2hlKSkge1xuXHRcdHJldHVybiBzY29wZWRFbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoc3RyRWxlbSk7XG5cdH1cblxuXHRyZXR1cm4gX3NlbGVjdDIoc2NvcGVkRWxlbSwgc3RyRWxlbSk7XG59XG5cbmZ1bmN0aW9uIF9zZWxlY3QyKHNjb3BlZEVsZW0sIHN0ckVsZW0pIHtcblx0dmFyIGVudHJ5LCBzZWxlY3RvcnMsXG5cdFx0c2NvcGVcdD0gbmV3IHpBcnJheShzY29wZWRFbGVtKSxcblx0XHRjdXJyZW50XHQ9IFwiXCIsXG5cdFx0ZW50cmllc1x0PSBzdHJFbGVtLnNwbGl0KC9cXHMrLyk7XG5cblx0d2hpbGUgKGVudHJ5ID0gZW50cmllcy5zaGlmdCgpKSB7XG5cdFx0c2VsZWN0b3JzID0gZW50cnkubWF0Y2goX3NlbGVjdG9yc0NhY2hlKTtcblxuXHRcdGlmICghc2VsZWN0b3JzKSB7XG5cdFx0XHRjdXJyZW50ICs9IGVudHJ5ICsgXCIgXCI7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRjdXJyZW50XHQrPSBlbnRyeS5yZXBsYWNlKF9zZWxlY3RvcnNDYWNoZSwgXCJcIikgfHwgXCIqXCI7XG5cdFx0ZW50cnlcdD0gbmV3IHpBcnJheSgpO1xuXG5cdFx0c2NvcGUuZm9yRWFjaChmdW5jdGlvbiBfc2VsZWN0Rm9yRWFjaChzY29wZWRFbGVtKSB7XG5cdFx0XHR2YXIgcmV0ID0gbmV3IHpBcnJheSgpO1xuXG5cdFx0XHRzZWxlY3RvcnMuZm9yRWFjaChmdW5jdGlvbiBzZWxlY3RvcnNGb3JFYWNoKHNlbGVjdG9yKSB7XG5cdFx0XHRcdHJldC5wdXNoLmFwcGx5KHJldCwgX3NlbGVjdG9yc1tzZWxlY3Rvcl0uY2FsbChzY29wZWRFbGVtLCBjdXJyZW50KSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0ZW50cnkucHVzaC5hcHBseShlbnRyeSwgcmV0KTtcblx0XHR9KTtcblxuXHRcdHNjb3BlXHQ9IGVudHJ5O1xuXHRcdGN1cnJlbnRcdD0gXCJcIjtcblx0fVxuXG5cdGlmIChjdXJyZW50KSB7XG5cdFx0ZW50cnkgPSBuZXcgekFycmF5KCk7XG5cblx0XHRzY29wZS5mb3JFYWNoKGZ1bmN0aW9uIGN1cnJlbnRGb3JFYWNoKHNjb3BlZEVsZW0pIHtcblx0XHRcdGVudHJ5LnB1c2guYXBwbHkoZW50cnksIHNjb3BlZEVsZW0ucXVlcnlTZWxlY3RvckFsbChjdXJyZW50KSk7XG5cdFx0fSk7XG5cblx0XHRzY29wZSA9IGVudHJ5O1xuXHR9XG5cblx0cmV0dXJuIHNjb3BlO1xufVxuXG5mdW5jdGlvbiBfZ2VuZXJhdGVTZWxlY3RvcnNDYWNoZSgpIHtcblx0dmFyIHNlbGVjdG9yc1x0PSBPYmplY3Qua2V5cyhfc2VsZWN0b3JzKS5qb2luKFwifFwiKS5yZXBsYWNlKC86L2csIFwiXCIpO1xuXHRfc2VsZWN0b3JzQ2FjaGVcdD0gbmV3IFJlZ0V4cChcIjooXCIgKyBzZWxlY3RvcnMgKyBcIilcIiwgXCJnXCIpO1xufVxuIiwiei5yZWdpc3RlclNlbGVjdG9yID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBmbikge1xuXHRpZiAoIXNlbGVjdG9yIHx8IHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkZpcnN0IHBhcmFtZXRlciBvZiB6I3JlZ2lzdGVyU2VsZWN0b3IgbXVzdCBiZSBhIHN0cmluZyBzZWxlY3RvclwiKTtcblx0fSBlbHNlIGlmICghZm4gfHwgdHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJTZWNvbmQgcGFyYW1ldGVyIG9mIHojcmVnaXN0ZXJTZWxlY3RvciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7XG5cdH1cblxuXHRpZiAoc2VsZWN0b3JbMF0gIT09IFwiOlwiKSB7XG5cdFx0c2VsZWN0b3IgPSBcIjpcIiArIHNlbGVjdG9yO1xuXHR9XG5cblx0X3NlbGVjdG9yc0NhY2hlXHRcdFx0PSBmYWxzZTtcblx0X3NlbGVjdG9yc1tzZWxlY3Rvcl1cdD0gZm47XG59O1xuXG56LnJlZ2lzdGVyU2VsZWN0b3IoXCI6Zmlyc3RcIiwgZnVuY3Rpb24gc2VsZWN0b3JGaXJzdChxdWVyeSkge1xuXHRyZXR1cm4geih0aGlzLnF1ZXJ5U2VsZWN0b3IocXVlcnkpKTtcbn0pO1xuXG56LnJlZ2lzdGVyU2VsZWN0b3IoXCI6aW5wdXRcIiwgKGZ1bmN0aW9uIHNlbGVjdG9yRmlyc3QoKSB7XG5cdHZhciB0YWdzID0gXCJJTlBVVCxURVhUQVJFQSxTRUxFQ1QsQlVUVE9OXCIuc3BsaXQoXCIsXCIpO1xuXG5cdGZ1bmN0aW9uIGZpbHRlcihlbGVtZW50KSB7XG5cdFx0cmV0dXJuIH50YWdzLmluZGV4T2YoZWxlbWVudC50YWdOYW1lKTtcblx0fVxuXG5cdHJldHVybiBmdW5jdGlvbiBzZWxlY3RvcklucHV0KHF1ZXJ5KSB7XG5cdFx0dmFyIGVsZW1lbnRzID0gbmV3IHpBcnJheSgpO1xuXG5cdFx0ZWxlbWVudHMucHVzaC5hcHBseShlbGVtZW50cywgW10uZmlsdGVyLmNhbGwodGhpcy5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KSwgZmlsdGVyKSk7XG5cblx0XHRyZXR1cm4gZWxlbWVudHM7XG5cdH07XG59KSgpKTtcbiIsInouZm4ucGFyZW50ID0gX2VhY2hOZXcoZnVuY3Rpb24gcGFyZW50KCkge1xuXHRyZXR1cm4gdGhpcy5wYXJlbnROb2RlO1xufSk7XG5cbnouZm4ubmV4dCA9IF9lYWNoTmV3KGZ1bmN0aW9uIG5leHQoKSB7XG5cdHJldHVybiB0aGlzLm5leHRFbGVtZW50U2libGluZztcbn0pO1xuXG56LmZuLnByZXYgPSB6LmZuLnByZXZpb3VzID0gX2VhY2hOZXcoZnVuY3Rpb24gcHJldigpIHtcblx0cmV0dXJuIHRoaXMucHJldmlvdXNFbGVtZW50U2libGluZztcbn0pO1xuXG56LmZuLnNpYmxpbmdzID0gX2VhY2hOZXcoZnVuY3Rpb24gc2libGluZ3MoKSB7XG5cdHJldHVybiBbXS5maWx0ZXIuY2FsbCh0aGlzLnBhcmVudE5vZGUuY2hpbGRyZW4sIGZ1bmN0aW9uKGNoaWxkKSB7XG5cdFx0cmV0dXJuIGNoaWxkICE9PSB0aGlzO1xuXHR9LCB0aGlzKTtcbn0pO1xuXG56LmZuLm5leHRBbGwgPSBfZWFjaE5ldyhmdW5jdGlvbiBuZXh0QWxsKCl7XG5cdHJldHVybiBkaXIodGhpcywgXCJuZXh0RWxlbWVudFNpYmxpbmdcIik7XG59KTtcblxuei5mbi5wcmV2QWxsID0gX2VhY2hOZXcoZnVuY3Rpb24gcHJldkFsbCgpe1xuXHRyZXR1cm4gZGlyKHRoaXMsIFwicHJldmlvdXNFbGVtZW50U2libGluZ1wiKTtcbn0pO1xuXG56LmZuLmNoaWxkcmVuID0gX2VhY2hOZXcoZnVuY3Rpb24gY2hpbGRyZW4oc2VsZWN0b3IpIHtcblx0cmV0dXJuIHRoaXMuY2hpbGRyZW47XG59KTtcbiIsInZhciByZWdleHBEYXNoXHRcdD0gLy0oLikvZyxcblx0cmVnZXhwVXBwZXJDYXNlXHQ9IC8oPyFeKShbQS1aXSkvZztcblxuZnVuY3Rpb24gX3RvQ2FtZWxDYXNlKHN0cmluZykge1xuXHRyZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVnZXhwRGFzaCwgX3RvQ2FtZWxDYXNlSGVscGVyKTtcbn1cblxuZnVuY3Rpb24gX3RvQ2FtZWxDYXNlSGVscGVyKG1hdGNoLCBncm91cCkge1xuXHRyZXR1cm4gZ3JvdXAudG9VcHBlckNhc2UoKTtcbn1cblxuZnVuY3Rpb24gX3RvRGFzaGVzKHN0cmluZykge1xuXHRyZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVnZXhwVXBwZXJDYXNlLCBfdG9EYXNoZXNIZWxwZXIpLnRvTG93ZXJDYXNlKCk7XG59XG5cbmZ1bmN0aW9uIF90b0Rhc2hlc0hlbHBlcihtYXRjaCwgZ3JvdXApIHtcblx0cmV0dXJuICctJyArIGdyb3VwLnRvTG93ZXJDYXNlKCk7XG59XG5cbnZhciBfY2FjaGUgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgY2FjaGU7XG5cblx0aWYgKFwiTWFwXCIgaW4gd2luZG93KSB7XG5cdFx0cmV0dXJuIG5ldyBNYXAoKTtcblx0fVxuXG5cdGNhY2hlID0ge307XG5cblx0cmV0dXJuIHtcblx0XHRzZXQ6IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG5cdFx0XHRjYWNoZVtrZXldID0gdmFsdWU7XG5cdFx0fSxcblx0XHRnZXQ6IGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdHJldHVybiBjYWNoZVtrZXldO1xuXHRcdH1cblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIF9jaGVja1ZhbGlkRWxlbWVudChlbGVtKSB7XG5cdGlmIChlbGVtIGluc3RhbmNlb2YgekFycmF5KSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRpZiAoZWxlbSBpbnN0YW5jZW9mIEVsZW1lbnQgfHwgZWxlbSBpbnN0YW5jZW9mIFdpbmRvdyB8fCBlbGVtIGluc3RhbmNlb2YgRG9jdW1lbnQpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGlmICh0eXBlb2YgZWxlbSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG59XG5cbmZ1bmN0aW9uIF9lYWNoKGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiBydW5FYWNoKCkge1xuXHRcdHZhciBpXHQ9IDAsXG5cdFx0XHRsXHQ9IHRoaXMubGVuZ3RoO1xuXG5cdFx0Zm9yICg7IGkgPCBsOyBpKyspIHtcblx0XHRcdGZuLmFwcGx5KHRoaXNbaV0sIGFyZ3VtZW50cyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG59XG5cbmZ1bmN0aW9uIF9lYWNoTmV3KGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiBydW5FYWNoKCkge1xuXHRcdHZhciByZXQsXG5cdFx0XHRpXHQ9IDAsXG5cdFx0XHRsXHQ9IHRoaXMubGVuZ3RoLFxuXHRcdFx0YXJyXHQ9IG5ldyB6QXJyYXkoKTtcblxuXHRcdGZvciAoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRyZXQgPSBmbi5hcHBseSh0aGlzW2ldLCBhcmd1bWVudHMpO1xuXG5cdFx0XHRpZiAocmV0KSB7XG5cdFx0XHRcdGlmIChBcnJheS5pc0FycmF5KHJldCkgJiYgcmV0Lmxlbmd0aCB8fCByZXQgaW5zdGFuY2VvZiBIVE1MQ29sbGVjdGlvbikge1xuXHRcdFx0XHRcdGFyci5wdXNoLmFwcGx5KGFyciwgcmV0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRhcnIucHVzaChyZXQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFycjtcblx0fTtcbn1cblxuZnVuY3Rpb24gZGlyKGVsZW0sIGtleSkge1xuXHR2YXIgbWF0Y2hlZCA9IG5ldyB6QXJyYXkoKTtcblxuXHR3aGlsZSAoZWxlbVtrZXldICYmIGVsZW0ubm9kZVR5cGUgPT09IDEpIHtcblx0XHRlbGVtID0gZWxlbVtrZXldO1xuXHRcdG1hdGNoZWQucHVzaChlbGVtKTtcblx0fVxuXG5cdHJldHVybiBtYXRjaGVkO1xufVxuXG56LmRlZXBFeHRlbmQgPSBmdW5jdGlvbiBfZXh0ZW5kKGRlZXApIHtcblx0dmFyIG9iaiwgdGFyZ2V0LFxuXHRcdGkgPSAyO1xuXG5cdGlmICh0eXBlb2YgZGVlcCA9PT0gXCJvYmplY3RcIikge1xuXHRcdHRhcmdldFx0PSBkZWVwIHx8IHt9O1xuXHRcdGRlZXBcdD0gSW5maW5pdHk7XG5cdH0gZWxzZSB7XG5cdFx0ZGVlcFx0PSBkZWVwID09PSB0cnVlID8gSW5maW5pdHkgOiAoZGVlcCB8IDApO1xuXHRcdHRhcmdldFx0PSBhcmd1bWVudHNbMV0gfHwge307XG5cdH1cblxuXHRmb3IgKDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdG9iaiA9IGFyZ3VtZW50c1tpXTtcblxuXHRcdGlmICghb2JqKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG5cdFx0XHRpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0aWYgKGRlZXAgJiYgdHlwZW9mIG9ialtrZXldID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHRcdFx0X2V4dGVuZChkZWVwIC0gMSwgdGFyZ2V0W2tleV0sIG9ialtrZXldKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0YXJnZXRba2V5XSA9IG9ialtrZXldO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRhcmdldDtcbn07XG5cbnouZXh0ZW5kID0gZnVuY3Rpb24gKCkge1xuXHRbXS51bnNoaWZ0LmNhbGwoYXJndW1lbnRzLCAwKTtcblx0cmV0dXJuIHouZGVlcEV4dGVuZC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuei5mbi5lYWNoID0gX2VhY2goZnVuY3Rpb24gZWFjaChmbikge1xuXHRmbi5jYWxsKHRoaXMsIHRoaXMpO1xuXHRyZXR1cm4gdGhpcztcbn0pO1xuXG56LnF1ZXJ5U3RyaW5nID0gZnVuY3Rpb24gKG9iaiwgcHJlZml4KSB7XG5cdHZhciBpLCBrZXksIHZhbCxcblx0XHRzdHJpbmdzID0gW107XG5cblx0Zm9yIChpIGluIG9iaikge1xuXHRcdGlmIChvYmouaGFzT3duUHJvcGVydHkoaSkpIHtcblx0XHRcdGlmIChwcmVmaXgpIHtcblx0XHRcdFx0a2V5ID0gcHJlZml4ICsgXCJbXCIgKyBpICsgXCJdXCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRrZXkgPSBpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YWwgPSBvYmpbaV07XG5cblx0XHRcdGlmICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0XHRzdHJpbmdzLnB1c2goei5xdWVyeVN0cmluZyh2YWwsIGtleSkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3RyaW5ncy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQodmFsKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHN0cmluZ3Muam9pbihcIiZcIik7XG59O1xuIiwifSkod2luZG93LCBkb2N1bWVudCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=